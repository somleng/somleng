<% filter_params = request.query_parameters.fetch(:filter, {}).compact %>

<%= button_to(
  dashboard_exports_path(
    export: export_params.reverse_merge(filter_params: filter_params)
  ),
  class: "btn btn-outline-info",
  form_class: "d-inline",
  title: "Export",
  method: :post,
  form: { data: { turbo_confirm: ("You haven't selected any filters. Are you sure you still want to export all records?" if filter_params.blank?) }}
  ) do %>
  <i class="fa-solid fa-file-download"></i>
<% end %>
