<%= page_title(title: "Edit Destination Tariff") %>
<div class="card-body">
  <%= simple_form_for([:dashboard, @resource.tariff_schedule, @resource], wrapper: :input_group) do |f| %>

    <div class="card mb-3">
      <div class="card-body">
        <h5 class="card-title">General</h5>

        <div class="row">
          <div class="col-sm-6">
            <%= f.input(
              :tariff_schedule,
              collection: f.object.tariff_schedules_options_for_select,
              disabled: true,
              prompt: false
            ) %>
          </div>
        </div>
      </div>
    </div>

    <div class="card mb-3">
      <div class= "card-header d-flex justify-content-between align-items-center">
        <h5>
          Edit Tariff
        </h5>
      </div>

      <div class="card-body">
        <div class="row">
          <div class="col-md-6">
            <%= f.input(
              :destination_group_id,
              collection: f.object.destination_groups_options_for_select,
              prompt: true,
              required: true,
              input_html: {
                data: {
                  controller: "enhanced-select"
                }
              }
            ) %>
          </div>

          <div class="col-md-6">
            <%= f.input(
              :rate,
              label: "Rate (#{f.object.billing_currency.iso_code})",
              as: :numeric,
              required: true,
              append: f.object.rate_unit,
              hint: f.object.hint,
              input_html: {
                min: 0, step: 0.0001,
                data: {
                  append_data: {
                    destination_tariff_form_target: "rateUnit"
                  }
                }
              }
            ) %>
          </div>
        </div>
      </div>
    </div>

    <%= f.button :submit %>
    <%= link_to_cancel %>
  <% end %>
</div>
