<div class="card mb-3" data-controller="destination-tariff-form remove-nested-form" data-remove-nested-form-target="element" data-destination-tariff-form-rate-unit-by-category-value="<%= form.object.rate_unit_by_category.to_json %>" data-test-id="destination-tariff-form">
  <div class= "card-header d-flex justify-content-between align-items-center">
    <h6>
      <% if form.object.new_record? %>
        New Tariff
      <% else %>
        Edit Tariff
      <% end %>
    </h6>
    <div class="card-header-actions d-flex justify-content-end">
      <button type="button" class="btn btn-outline-danger" data-action="click->remove-nested-form#remove" title="Delete">
        <i class="fas fa-trash-alt"></i>
      </a>
    </div>
  </div>

  <div class="card-body">
    <%= form.input :_destroy, as: :hidden, input_html: { data: { "remove-nested-form-target": "destroyElement" } } %>
    <%= form.input :id, as: :hidden %>

    <div class="row">
      <div class="col-md-6">
        <%= form.input(
          :destination_group_id,
          collection: form.object.destination_groups_options_for_select,
          prompt: true,
          required: true,
          input_html: {
            data: {
              controller: "enhanced-select"
            }
          }
        ) %>
      </div>

      <div class="col-md-6">
        <%= form.input(
          :rate,
          label: "Rate (#{form.object.billing_currency.iso_code})",
          as: :numeric,
          required: true,
          append: form.object.rate_unit,
          hint: form.object.hint,
          input_html: {
            min: 0, step: 0.0001,
            data: {
              append_data: {
                destination_tariff_form_target: "rateUnit"
              }
            }
          }
        ) %>
      </div>
    </div>
  </div>
</div>
