<%= page_title(title: "Destination Tariffs for #{@tariff_schedule.decorated.name}") do %>
  <% if policy(@tariff_schedule).edit? %>
    <%= render("shared/edit_resource_page_action", path: edit_dashboard_tariff_schedule_path(@tariff_schedule)) %>
  <% end %>

  <%= render("shared/filters") do |form| %>
    <%= form.select(
      :destination_group_id,
      current_carrier.destination_groups.map do |destination_group|
        destination_group = DestinationGroupDecorator.new(destination_group)
        [destination_group.name, destination_group.id]
      end,
      { filter_value: params.dig(:filter, :destination_group_id) },
      { data: { controller: "enhanced-select" }}
    ) %>

    <%= form.date_range title: "Created at", filter_value: [params.dig(:filter, :from_date), params.dig(:filter, :to_date)] %>
  <% end %>
<% end %>

<div class="card-body">
  <%= render "collection", resources: @resources %>

  <%= render "shared/pagination", resources: @resources %>
</div>
